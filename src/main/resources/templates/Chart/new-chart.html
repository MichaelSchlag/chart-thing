<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>

<body class="container">

<h1>New Chart</h1>

<nav th:replace="fragments :: navigation"></nav>

<table class="table">

    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Category</th>
    </tr>

    <tr th:each="cheese : ${cheeses}">
        <td th:text="${cheese.name}"></td>
        <td th:text="${cheese.description}"></td>
        <td th:text="${cheese.category.name}"></td>
    </tr>

</table>

<form method="post" th:object="${form}">
    <div class="form-group">
        <input type="text" name="chartName" value="Name" maxlength="80"/>
        <input type="text" name="chartDesc" value="Description" maxlength="400" height="50" />
    </div>

    <div class="x-axis">
        <label for="x-axis">x axis:</label>
        <input type="text" name="x-axis" id="x-axis" value="" />
        <br />
        <label for="x-min">x-min:</label>
        <input type="number" name="x-min" id="x-min" value="0" onchange="drawChart()" />
        <label for="x-max">x-max:</label>
        <input type="number" name="x-max" id="x-max" value="10" onchange="drawChart()" />
    </div>

    <div class="y-axis">
        <label for="y-axis">y axis:</label>
        <input type="text" name="y-axis" id="y-axis" value="" />
        <br />
        <label for="y-min">y-min:</label>
        <input type="number" name="y-min" id="y-min" value="0" onchange="drawChart()" />
        <label for="y-max">y-max:</label>
        <input type="number" name="y-max" id="y-max" value="10" onchange="drawChart()" />
    </div>

<!--    <input type="number" name="test" id="test" value="2" onchange="drawChart()" />-->

    <div id="chart">
        <canvas id="myCanvas" width="400" height="400"></canvas>
        <script>

            var c = document.getElementById("myCanvas");
            var ctx = c.getContext("2d");

            drawChart();

            function drawChart(){

                ctx.clearRect(0, 0, c.width, c.height);
                var lowX = document.getElementById("x-min").value;
                var highX = document.getElementById("x-max").value;
                var lowY = document.getElementById("y-min").value;
                var highY = document.getElementById("y-max").value;

                var diffX = highX - lowX;
                var diffY = highY - lowY;

                if(diffX < 0){
                    diffX *= -1;
                }
                if(diffY < 0){
                    diffY *= -1;
                }

                if(highX != lowX){
                    var intervalX = c.width/(diffX);
                } else {
                    var intervalX = c.width;
                }
                if(highY != lowY){
                    var intervalY = c.height/(diffY);
                } else {
                    var intervalY = c.height;
                }

                var itemX = 0;
                var itemY = 0;

                ctx.beginPath();

                for(var i = 1; i < diffX; i++){
                    ctx.moveTo((intervalX * i),0);
                    ctx.lineTo((intervalX * i),c.height);
                    ctx.stroke();
                }

                for(var i = 1; i < diffY; i++){
                    ctx.moveTo(0,(intervalY * i));
                    ctx.lineTo(c.width,(intervalY * i));
                    ctx.stroke();
                }
                ctx.stroke();
            }
        </script>
    </div>

    <img src="apple.jpg" alt="Apple" />

    <div id="item-container">
        <table>
            <tr>
                <td><img src="apple.jpg"></td>
            </tr>
            <tr>
                <td>row 2</td>
            </tr>
            <tr>
                <td>row 3</td>
            </tr>
            <tr>
                <td>row 4</td>
            </tr>
            <tr>
                <td>row 5</td>
            </tr>
            <tr>
                <td>row 6</td>
            </tr>
            <tr>
                <td>row 7</td>
            </tr>
            <tr>
                <td>row 8</td>
            </tr>
        </table>
    </div>



    <input type="submit" value="Create Chart" />
</form>

</body>
</html>


<!--
WHAT I WANT:
CHART DIV, X AXIS DIMENSIONS, Y AXIS DIMENSIONS, ITEM X POS, ITM Y POS
-->
